"use client";

import { cn } from "../../lib/utils";
import React, { useEffect, useState } from "react";

export default function DividerBlue({ className }) {
  const [windowWidth, setWindowWidth] = useState(1280);

  useEffect(() => {
    const handleResize = () => setWindowWidth(window.innerWidth);
    window.addEventListener("resize", handleResize);
    handleResize();
    return () => window.removeEventListener("resize", handleResize);
  }, []);

  const svgWidth = 1280;
  const repetitions = Math.ceil(windowWidth / svgWidth);

  return (
    <div className={cn("w-full overflow-hidden", className)}>
      <svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox={`0 0 ${svgWidth * repetitions} 20`}
        width={svgWidth * repetitions}
        height="20"
        preserveAspectRatio="xMidYMid slice">
        <defs>
          <pattern id="blue" x="0" y="0" width={svgWidth} height="20" patternUnits="userSpaceOnUse">
            <path
              d="M 0 13 Q 4.71 13 9.41 6.5 Q 18.82 -6.5 28.24 6.5 Q 32.94 13 37.65 13 Q 42.35 13 47.06 6.5 Q 56.47 -6.5 65.88 6.5 Q 70.59 13 75.29 13 Q 80 13 84.71 6.5 Q 94.12 -6.5 103.53 6.5 Q 108.24 13 112.94 13 Q 117.65 13 122.35 6.5 Q 131.76 -6.5 141.18 6.5 Q 145.88 13 150.59 13 Q 155.29 13 160 6.5 Q 169.41 -6.5 178.82 6.5 Q 183.53 13 188.24 13 Q 192.94 13 197.65 6.5 Q 207.06 -6.5 216.47 6.5 Q 221.18 13 225.88 13 Q 230.59 13 235.29 6.5 Q 244.71 -6.5 254.12 6.5 Q 258.82 13 263.53 13 Q 268.24 13 272.94 6.5 Q 282.35 -6.5 291.76 6.5 Q 296.47 13 301.18 13 Q 305.88 13 310.59 6.5 Q 320 -6.5 329.41 6.5 Q 334.12 13 338.82 13 Q 343.53 13 348.24 6.5 Q 357.65 -6.5 367.06 6.5 Q 371.76 13 376.47 13 Q 381.18 13 385.88 6.5 Q 395.29 -6.5 404.71 6.5 Q 409.41 13 414.12 13 Q 418.82 13 423.53 6.5 Q 432.94 -6.5 442.35 6.5 Q 447.06 13 451.76 13 Q 456.47 13 461.18 6.5 Q 470.59 -6.5 480 6.5 Q 484.71 13 489.41 13 Q 494.12 13 498.82 6.5 Q 508.24 -6.5 517.65 6.5 Q 522.35 13 527.06 13 Q 531.76 13 536.47 6.5 Q 545.88 -6.5 555.29 6.5 Q 560 13 564.71 13 Q 569.41 13 574.12 6.5 Q 583.53 -6.5 592.94 6.5 Q 597.65 13 602.35 13 Q 607.06 13 611.76 6.5 Q 621.18 -6.5 630.59 6.5 Q 635.29 13 640 13 Q 644.71 13 649.41 6.5 Q 658.82 -6.5 668.24 6.5 Q 672.94 13 677.65 13 Q 682.35 13 687.06 6.5 Q 696.47 -6.5 705.88 6.5 Q 710.59 13 715.29 13 Q 720 13 724.71 6.5 Q 734.12 -6.5 743.53 6.5 Q 748.24 13 752.94 13 Q 757.65 13 762.35 6.5 Q 771.76 -6.5 781.18 6.5 Q 785.88 13 790.59 13 Q 795.29 13 800 6.5 Q 809.41 -6.5 818.82 6.5 Q 823.53 13 828.24 13 Q 832.94 13 837.65 6.5 Q 847.06 -6.5 856.47 6.5 Q 861.18 13 865.88 13 Q 870.59 13 875.29 6.5 Q 884.71 -6.5 894.12 6.5 Q 898.82 13 903.53 13 Q 908.24 13 912.94 6.5 Q 922.35 -6.5 931.76 6.5 Q 936.47 13 941.18 13 Q 945.88 13 950.59 6.5 Q 960 -6.5 969.41 6.5 Q 974.12 13 978.82 13 Q 983.53 13 988.24 6.5 Q 997.65 -6.5 1007.06 6.5 Q 1011.76 13 1016.47 13 Q 1021.18 13 1025.88 6.5 Q 1035.29 -6.5 1044.71 6.5 Q 1049.41 13 1054.12 13 Q 1058.82 13 1063.53 6.5 Q 1072.94 -6.5 1082.35 6.5 Q 1087.06 13 1091.76 13 Q 1096.47 13 1101.18 6.5 Q 1110.59 -6.5 1120 6.5 Q 1124.71 13 1129.41 13 Q 1134.12 13 1138.82 6.5 Q 1148.24 -6.5 1157.65 6.5 Q 1162.35 13 1167.06 13 Q 1171.76 13 1176.47 6.5 Q 1185.88 -6.5 1195.29 6.5 Q 1200 13 1204.71 13 Q 1209.41 13 1214.12 6.5 Q 1223.53 -6.5 1232.94 6.5 Q 1237.65 13 1242.35 13 Q 1247.06 13 1251.76 6.5 Q 1261.18 -6.5 1270.59 6.5 Q 1275.29 13 1280 13 L 1280 20 L 0 20 Z"
              fill="#D3DEF4"></path>
          </pattern>
        </defs>
        <rect width="100%" height="20" fill="url(#blue)" />
      </svg>
    </div>
  );
}
